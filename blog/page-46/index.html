<!DOCTYPE html>
<html>
  <head>
    <title>Blog | Chris Oliver | St. Louis Ruby on Rails Web Developer</title>

    
    <meta name="author" content="Chris Oliver">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="k8E8tt4Xn45P84zs5M6Z-4cMIGwdbGMJSDSkL6VzvMk" />

    <link rel="alternate" type="application/rss+xml" title="Chris Oliver / excid3.com Feed" href="http://excid3.com/feed.xml"/>

    <!--<link rel="shortcut icon" href="favicon.png">-->
    <link href='/assets/global-c224c07eca6e857790f0324871c8800e.css' rel='stylesheet' type='text/css' />


    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet" />

    <script type="text/javascript" data-cfasync="false">
      (function() {
        var config = {
          kitId: 'voa6eso',
          scriptTimeout: 3000
        };
        var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
      })();
    </script>

    <link href="https://plus.google.com/106699287110566383664/" rel="author" />
  </head>
  <body>
    <div class="fluid-container header">
  <div class="container">
    <nav class="pull-right">
      <!--<a href="http://gorails.com" class="btn btn-gorails btn-gorails-green">Learn Ruby On Rails</a>-->
      <!--<a href="/prototype">Prototype</a>
      <a href="/improve">Improve</a>
      <a>|</a>-->
      <a href="http://gorails.com">Learn Ruby on Rails</a>
      <a>|</a>
      <a href="/blog">Blog</a>
      <a href="/contact" class="btn btn-gorails btn-gorails-red">Hire Me</a>
    </nav>
    <h1 class="name"><a href="/">Chris Oliver</a></h1>
  </div>
</div>


    <section id="blog">
  <div class="container">
    <div class="row">
      <div class="span8 offset2">

        <p class="archive">Looking for old posts? Visit the <a href="/blog/archive">archive</a>.</p>

        
          <article class="first">
            <div class="article-head">
              <h2 class="title"><a href="/blog/why-god-why" class="js-pjax">Why God? Why?</a></h2>
              <p class="date">Apr 25, 2011</p>
            </div><!--/.article-head-->
            <div class="article-content">
              <p><img src="http://excid3.com/blog/wp-content/uploads/2011/04/y7Hm91.jpg" title="y7Hm9" alt="" /></p>

<p>Pretty hilarious, but I’ve worked with far too many people that do this.</p>

            </div><!--/.article-content-->
          </article>
          <div class="separater"></div>
        
          <article class="middle">
            <div class="article-head">
              <h2 class="title"><a href="/blog/execution-after-redirect-vulnerability" class="js-pjax">Execution After Redirect Vulnerability</a></h2>
              <p class="date">Apr 25, 2011</p>
            </div><!--/.article-head-->
            <div class="article-content">
              <p>A couple days ago I was contacted by <a href="http://adamdoupe.com/">Ada</a><a href="http://adamdoupe.com">m Doupé</a> regarding a vulnerability he had been researching for his PhD. He had been scanning Github projects for the vulnerability and had found what could possibly be an issue on <a href="http://fluttrly.com">Fluttrly</a>.</p>

<p>While Fluttrly was actually unaffected, the vulnerability is a serious one. When using a web framework such as Rails or Django, your “redirect” statement actually just generates a Redirect Response. This does not halt the execution chain which leaves the rest of your code to continue execution when you probably wanted it to stop.</p>

<p>Here’s an example from <a href="http://adamdoupe.com/overview-of-execution-after-redirect-web-appl">Adam’s blog</a>:</p>

<pre><code>class TopicsController &lt; ApplicationController
  def update
    @topic = Topic.find(params[:id])
    unless current_user.is_admin?
      redirect_to "/"
    end
    if @topic.update_attributes(params[:topic])
      flash[:notice] = "Topic updated!"
    end
  end
end
</code></pre>

<p>With this code, a user can still change the topic even if they aren’t an admin because authorization of the request isn’t handled properly. The code looks correct upon first glance, but it is subject to anyone changing the topic.</p>

<p>The solution Adam suggets for this is to <code>redirect and return</code> on the same line in your controller. That’s fine if you need to do a redirect in your controller action, but it’s not a best practice, at least not for Rails.</p>

<p>The best remedy for this is simply to use filters in Rails. With a before_filter, you can check if the user is an admin and redirect accordingly:</p>

<pre><code>before_filter :admin_required

def admin_required
  redirect_to "/" unless current_user.is_admin?
end
</code></pre>

<p>This will halt the chain before the code in update begins execution because of how Rails’ before filter’s work.</p>

<p>While this is just an example before_filter, you should really check out using a <a href="http://ruby-toolbox.com/categories/rails_authorization.html">Rails authorization gem</a> like CanCan. These gems allow you to configure user levels and the functionality they are allowed to execute. They provide a much better way to manage and configure authorization without overhead of having all of the code to handle this in your application.</p>

<p>I’m glad Adam is disclosing this to people. It’s something that is easily overlooked and it’s good to raise awareness of these things to new Rails developers. <img src="http://excid3.com/blog/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" /></p>

            </div><!--/.article-content-->
          </article>
          <div class="separater"></div>
        
          <article class="last">
            <div class="article-head">
              <h2 class="title"><a href="/blog/life-is-tough-but-there-is-so-much-to-learn" class="js-pjax">Life is tough but there is so much to learn</a></h2>
              <p class="date">Apr 18, 2011</p>
            </div><!--/.article-head-->
            <div class="article-content">
              <p>A few times over the past couple of years I have toyed with the idea of dropping out of college. Nobody (well, except <a href="http://twitter.com/biosshadow">@biosshadow </a> <img src="http://excid3.com/blog/wp-includes/images/smilies/icon_razz.gif" alt=":P" /> ) really encouraged that thought, and I’m glad I didn’t. It was very hard for me to stay. Most students don’t have much interest in programming outside of class, teachers’ have had a tendency to leave out things that were important (and luckily I knew from my learning outside of class), and a handful of other things.</p>

<p>So far, this has become my quarter-life crisis. Sadly, I never entertained the idea of transferring, but I can whole-heartedly understand why other students take a few years off. That’s probably what I should have done. School has made me a progressively unhappier person over the past 4 years. It’s certainly not my thing.</p>

<p>“It is what you make of it” is a phrase you’ve probably heard before. Keeping this in mind has helped me to get through the harsh times this past semester. Some days you just don’t want to get out of bed, but if you remember that you can make yourself a better person by taking this as a challenge, you will do well in your life.</p>

<p>This past year at school, however depressing it was to me, has taught me some things about myself. I know that I will never do something I dislike for so long again. Happiness, for me, has nothing to do with a larger salary. It has everything to do with learning new things and making other people happy. I love the smile on a person’s face after helping them with something that they truly appreciate.</p>

<p>Friday, we presented our senior project, a website for managing tours of campus, in front of the Computer Science department, several people from industry, and the Admissions department who was our client for the project. We will be saving them at least $10,000 a year with something we built in 2 semesters. They were such nice people, they hand wrote us thank you notes and gave us SIUe sweatshirts as gifts for our contribution to their department. It was such a wonderful experience to work with them, no matter how disgruntled I got at the assignments we were given or the people I was working with. We all came out of it as better people.</p>

<p>Looking back on this, I now realize that it school was well worth the experience but maybe I wasn’t ready for it coming straight out of high school. I have always been a self-learner and it was frustrating to be at a place where I imagined learning to be so much different. In reality, I just had no idea what I was learning. Most of what I learned was about myself and far less about Computer Science than I had expected. As a teenager and young adult, I thought I had the world figured out, but that certainly wasn’t the case as we all tend to realize sooner or later.</p>

<p>Don’t give up when things are tough. If something makes you unhappy, think about the outcome, and weigh your options. It was a tough choice for me to stay in school, but it was the right one.</p>

            </div><!--/.article-content-->
          </article>
          
        

        <div class="blog-navigation">

          <!--<span class="page_number ">Page: 46 of 79</span>-->

          <div class="pull-left">
            
              <a href="/blog/page-47" class="btn btn-gorails btn-gorails-red next">← Older Posts</a>
            
          </div>

          <div class="pull-right">
            
              
                <a href="/blog/page-45" class="btn btn-gorails btn-gorails-red previous">Newer Posts →</a>
              
            
          </div>
        </div>

      </div>
    </div>
  </div>
</section>


    <!--
<div id="footer-nav">
  <ul>
    <li><a class="home" href="http://excid3.com/blog">home</a></li>
    <li><a class="rss" href="http://feeds.feedburner.com/excid3">rss feed</a></li>
    <li><a class="archives" href="http://excid3.com/blog/archives/">archives</a></li>
    <li><a class="email" href="mailto:chris@excid3.com?subject=hello!">say hello</a></li>
    <li><a class="twitter" href="http://twitter.com/excid3">twitter</a></li>
    <li><a class="github" href="http://github.com/excid3">github</a></li>
  </ul>
</div>
-->


<footer class="clearfix">
  <div class="container">
    <p class="pull-left">Do things that scare you.</p>
    <p class="pull-right">Learn about <a href="http://gorails.com/st-louis-ruby-on-rails">St. Louis Ruby on Rails</a></p>
  </div>
</footer>


    <!-- Google Analytics -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8399719-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
