<!DOCTYPE html>
<html>
  <head>
    <title>PyInstaller &#8211; A simple tutorial</title>
    <meta name="author" content="Chris Oliver">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
    <meta name="google-site-verification" content="k8E8tt4Xn45P84zs5M6Z-4cMIGwdbGMJSDSkL6VzvMk" />

    <!--<link rel="shortcut icon" href="favicon.png">-->
    <link href='/assets/global-09e65ed72b4f08933d57dbbe6ee22514.css' rel='stylesheet' type='text/css' />


    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet" />

    <script type="text/javascript" src="/js/prism.js"></script>

    <script type="text/javascript" data-cfasync="false">
      (function() {
        var config = {
          kitId: 'voa6eso',
          scriptTimeout: 3000
        };
        var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
      })();
    </script>

    <link href="https://plus.google.com/106699287110566383664/" rel="author" />
  </head>
  <body>
    <div class="fluid-container header">
  <div class="container">
    <nav class="pull-right">
      <!--<a href="http://gorails.com" class="btn btn-gorails btn-gorails-green">Learn Ruby On Rails</a>-->
      <!--<a href="/prototype">Prototype</a>
      <a href="/improve">Improve</a>
      <a>|</a>-->
      <a href="http://gorails.com">Learn Ruby on Rails</a>
      <a>|</a>
      <a href="/blog">Blog</a>
      <a href="/contact" class="btn btn-gorails btn-gorails-red">Hire Me</a>
    </nav>
    <h1 class="name"><a href="/">Chris Oliver</a></h1>
  </div>
</div>


    <section id="blog">
      <div class="container">
        <div class="row">
          <div class="span8 offset2">
            <div class="article-head">
              <h2 class="title"><a href="/blog/pyinstaller-a-simple-tutorial" class="js-pjax">PyInstaller &#8211; A simple tutorial</a></h2>
              <p class="date">Dec 28, 2009</p>
            </div><!--/.article-head-->

            <div class="article-content">
              <p>So you’d like to package your app for Windows, Linux, and even possibly OSX with using a single build tool? <a href="http://www.pyinstaller.org/">PyInstaller</a> catch your eye? This will be a short walk through of all the steps I have taken to get PyInstaller working for the <a href="http://keryxproject.org">Keryx </a>0.92 branch. Basic knowledge of traversing using the command line is necessary.</p>

<p>First off, you’re going to need Python 2.5. Since Python 2.6, there have been some significant changes to Python where it creates some build issues for Windows users. We are going to use 2.5 to avoid those. The first section here will be on Ubuntu Linux, to create a single file executable for Linux users. Assuming you are on a version of Ubuntu running Python 2.6 or later, you will need to install python2.5 and follow the respective steps running it instead of the default python version. If you are running something with python2.5 you can skip those steps where appropriate. I haven’t tested this with versions of Python before 2.5.</p>

<p><strong>Step One</strong> – Installing Dependencies</p>

<p>Fire up a terminal and install python2.5 build-essential python-dev zlib1g-dev by running the following command:</p>

<pre><code>sudo apt-get install python2.5 build-essential python-dev zlib1g-dev
</code></pre>

<p>From now on, to run your python scripts, use “python2.5″ instead of simply “python” in order to make sure things will compile properly.</p>

<p><strong>Step Two</strong> – Building PyInstaller</p>

<p>Next up we have to grab a copy of PyInstaller to install. The version I installed as 1.4 from trunk because PyInstaller 1.3 has been out of date for some time now. Grab the latest from their website:</p>

<p>Extract this and cd into the directory where you extracted PyInstaller. Once there, cd into source/linux and run the following commands:</p>

<pre><code>python2.5 ./Make.py
make
cd ../..
python2.5 Configure.py
</code></pre>

<p>This will build pyinstaller and configure it to know the available libraries that you have installed such as UPX and unicode support.</p>

<p><strong>Step Three</strong> – Creating the specification</p>

<p>For each application you package, you must create a specification for it. This is basically a configuration file that keeps track of the different options “specified” for the project. You can set options like a single file executable, file icon, and other features. We are only going to go with a single file executable for this one:</p>

<pre><code>python2.5 Makespec.py --onefile /home/chris/keryx_stable/keryx.py
</code></pre>

<p><strong>Step Four</strong> – Building the executable</p>

<p>Now that we have the specification built, we can use that to build the executable. This is a simple step, just run the Build.py script and pass it the spec file that was created. Our script is located at pyinstaller/keryx/keryx.spec so we run the following command:</p>

<pre><code>python2.5 Build.py keryx/keryx.spec
</code></pre>

<p>Now you can check the pyinstaller/keryx/dist folder for your hot-off-the-press Keryx linux single file executable!</p>

<p>The only issue I have experienced with this method was our dynamic plugin module that loads plugins at runtime. These files must be added to the Analyses() function in the pyinstaller spec in order for them to be parsed for any special libraries they might be importing to not go overlooked. If they were missed, the plugin would fail to load because it was missing libraries.</p>

<p>Hope that helps explain the basics. Everything else can be fairly easily found on the PyInstaller Manual pages but if you have any questions, feel free to leave a comment or shoot me an email. Check back soon for my next tutorial building Keryx for Windows using PyInstaller.</p>


              <p><strong>P.S.</strong> <a href="https://twitter.com/excid3/">You might enjoy following me on Twitter.</a></p>
            </div><!--/.article-content-->

            <nav class="share">
              <a href="https://twitter.com/share" class="twitter-share-button" data-via="excid3" data-related="excid3">Tweet</a>
              <div class="g-plusone" data-size="medium"></div>
              <script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script><script type="IN/Share" data-counter="right"></script>
            </nav>

            <div class="blog-navigation">
              <div class="pull-left">
                
                <a href="/blog/apache-missing-servername" title="Apache missing ServerName" class="btn btn-gorails btn-gorails-red">&laquo; Apache missing ServerName</a>
                
              </div>

              <div class="pull-right">
                
                <a href="/blog/pyinstaller-followup-building-python-executables-on-windows" title="PyInstaller Followup &#8211; Building Python Executables on Windows" class="btn btn-gorails btn-gorails-red">PyInstaller Followup &#8211; Building Python Executables on Windows &raquo; </a>
                
              </div>
            </div>

            <div id="disqus_thread"></div>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

            <div class="light-well about">
              <a href="http://excid3.com">
                <div class="pull-left">
                  <img src="http://www.gravatar.com/avatar/ce795239ba5dd2384fc2f88ffaff5451.png" alt="Chris Oliver" />
                </div>
                <p>Chris Oliver specializes in web development and user experience design with Ruby on Rails, Javascript, HTML5, and CSS3 in St. Louis, MO</p>
              </a>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!--
<div id="footer-nav">
  <ul>
    <li><a class="home" href="http://excid3.com/blog">home</a></li>
    <li><a class="rss" href="http://feeds.feedburner.com/excid3">rss feed</a></li>
    <li><a class="archives" href="http://excid3.com/blog/archives/">archives</a></li>
    <li><a class="email" href="mailto:chris@excid3.com?subject=hello!">say hello</a></li>
    <li><a class="twitter" href="http://twitter.com/excid3">twitter</a></li>
    <li><a class="github" href="http://github.com/excid3">github</a></li>
  </ul>
</div>
-->


<footer class="clearfix">
  <div class="container">
    <p class="pull-left">Do things that scare you.</p>
    <p class="pull-right">Learn about <a href="http://gorails.com/st-louis-ruby-on-rails">St. Louis Ruby on Rails</a></p>
  </div>
</footer>


    <!-- SubHub.io -->
    <script>
      (function(s,u,b,hh,uu,bb){
        uu=document.createElement(u);
        uu.setAttribute('data-subhub',hh);
        uu.setAttribute('data-panel',true);
        uu.async=1;uu.src=b;
        bb=s.getElementsByTagName(u)[0];
        bb.parentNode.insertBefore(uu,bb);
      })(document, 'script',
        'https://assets.subhub.io/v1/subhub.js',
        'a48820f5-a170-4e4c-97cf-ced8d190679e');
    </script>

    <!-- Google Analytics -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8399719-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'excid3'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>

    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
  </body>
</html>

